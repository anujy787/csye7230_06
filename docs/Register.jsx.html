<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Register.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Register.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>  import React, { useState } from 'react';
  import './Register.css';
  import axios from 'axios';
  import { useNavigate } from 'react-router-dom';
  import { Link } from 'react-router-dom';
  import Lottie from 'lottie-react';
  import Animation from '../assets/camera.json';

  /**
 * Represents the Register component.
 * Handles user registration.
 * 
 * @returns {JSX.Element} A React element.
 */

  const Register = () => {
    const navigate = useNavigate();
    const [errors, setErrors] = useState({
      email: '',
      first_name: '',
      last_name: '',
      password: ''
    });
    const [user, setUser] = useState({
      email: '',
      first_name: '',
      last_name: '',
      password: ''
    });


  /**
   * Handles input change in the registration form.
   * 
   * @param {Object} e - The event object.
   */

    const handleInputChange = (e) => {
      const { name, value } = e.target;
      setUser({
        ...user,
        [name]: value
      });

      // Clear errors for the field being updated
      setErrors({
        ...errors,
        [name]: ''
      });
    };
     /**
   * Handles user registration form submission.
   */

    const handleSubmit = async () => {
      try {
        const response = await axios.post('http://localhost:8000/v1/user', user);
        if (response.status === 201) {
          navigate("/verifyemail", { replace: true });
        }
      } catch (error) {
        if (error.response) {
          const { data } = error.response;
          setErrors({
            email: data.email ? data.email[0] : '',
            first_name: data.first_name ? data.first_name[0] : '',
            last_name: data.last_name ? data.last_name[0] : '',
            password: data.password ? data.password[0] : ''
          });
        } else {
          alert('An error occurred while processing your request.')
        }
      }
    };

    return (
      &lt;div className="page-container">
        &lt;div className="animation-container">
          &lt;div style={{ width: '250px', height: '250px' }}>
            &lt;Lottie animationData={Animation} loop={true} />
          &lt;/div>
        &lt;/div>
        &lt;div className="register-container">
          &lt;h1 className="register-header">Registration&lt;/h1>
          &lt;div className="register-form">
            &lt;input
              type="text"
              placeholder="Email"
              onChange={handleInputChange}
              name="email"
              required
              className="register-input"
            />
            {errors.email &amp;&amp; &lt;div className="error-popup" style={{ color: 'red' }}>{errors.email}&lt;/div>}
            &lt;input
              type="text"
              placeholder="First Name"
              onChange={handleInputChange}
              name="first_name"
              required
              className="register-input"
            />
            {errors.first_name &amp;&amp; &lt;div className="error-popup" style={{ color: 'red' }}>{errors.first_name}&lt;/div>}
            &lt;input
              type="text"
              placeholder="Last Name"
              onChange={handleInputChange}
              name="last_name"
              required
              className="register-input"
            />
            {errors.last_name &amp;&amp; &lt;div className="error-popup" style={{ color: 'red' }}>{errors.last_name}&lt;/div>}
            &lt;input
              type="password"
              placeholder="Password"
              onChange={handleInputChange}
              name="password"
              required
              className="register-input"
            />
            {errors.password &amp;&amp; &lt;div className="error-popup" style={{ color: 'red' }}>{errors.password}&lt;/div>}
            &lt;br />
            &lt;button onClick={handleSubmit} className="register-button">
              Submit
            &lt;/button>
          &lt;/div>
          &lt;div style={{ display: 'flex', justifyContent: 'space-between' }}>
            &lt;p className="register-link">
              &lt;Link to="/login">Already have an account?&lt;/Link>
            &lt;/p>
            &lt;p className="contact-link">
              &lt;Link to="/">Home&lt;/Link>
            &lt;/p>
          &lt;/div>
        &lt;/div>
      &lt;/div>
    );
  };

  export default Register;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#ContactUs">ContactUs</a></li><li><a href="global.html#ForgotPassword">ForgotPassword</a></li><li><a href="global.html#HomePage">HomePage</a></li><li><a href="global.html#Login">Login</a></li><li><a href="global.html#MapWithSearch">MapWithSearch</a></li><li><a href="global.html#Register">Register</a></li><li><a href="global.html#StarRating">StarRating</a></li><li><a href="global.html#SubscriptionPage">SubscriptionPage</a></li><li><a href="global.html#UserProfile">UserProfile</a></li><li><a href="global.html#VerifyEmail">VerifyEmail</a></li><li><a href="global.html#ViewPlans">ViewPlans</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Fri Apr 12 2024 14:29:11 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
